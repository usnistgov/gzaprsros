<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Gazebo APRS ROS: Gripper Testing</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Gazebo APRS ROS
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Gripper Testing </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This package contains a gazebo plugin for controlling a parallel gripper in gazebo simulation.</p>
<h2>Requirements</h2>
<p>Gazebo 9 + SDK For QT: Gazebo ignition math 4, ignition msgs1, ignition transport4 and sdformat-6.2 Or modify the qmake pro file. Only tested with ROS kinetic and Ubuntu 16.04 LTS</p>
<h2>Build</h2>
<p>To build, either a) compile top level with ROS "catkin_make install" and dlls will be copied to plugins9 b) invoke Qt 5.9.1 IDE and compile.</p>
<h2>Contents</h2>
<h3>Gazebo Plugins</h3>
<p>The gzparallelgripper (or ParallelGripper) plugin is used to monitor the pose error of a grasped object while the gripper is subject to various user-defined forces. The plugin can be used with any parallel gripper. The plugin is not purely physics based but is a very efficient implementation of a kludge. The plugin attaches the grasped object by detecting when both fingers collide with the object and helps to avoid problems with physics engines (e.g., alternating collision reporting) and to help the object staying in the robot gripper without slipping out during motion travel.</p>
<p>The parallel gripper fingertips are actuated using the custom protobuf Gazebo GripCommand command defining the state of the gripper (enabled/disabled). Enabled means closed. The plugin uses a simplified control scheme: a constant user-defined force is applied through both finger joints with a proportional corrective force used to maintain the symmetrical position of the gripper's fingertips. This scheme was used to better reflect the functionality of actual pneumatic grippers.</p>
<p>An object is detected as "grasped" as soon as two opposing forces are applied by the gripper links on an object and the plugin detects a collision between the grasping fingers and the grasped object.. Then a virtual joints is created attaching the object to each finger join. As soon as the grasp command to release is issued (e.g. the gripper opens), the object virutal joints are removed so that the object is detached.</p>
<h3>Gazebo World</h3>
<p>The gazebo sdf world includes the gzparallelgripper as plugins for both the motoman sia20d and the fanuc 200id. The control and status topic names are different for each robot.</p>
<h2>Description of the arguments:</h2>
<pre class="fragment">&lt;grip_force_close&gt; contains the desired force to apply to gripper closing, default 10N
&lt;grip_force_open&gt; contains the desired force to apply to gripper opening, default 1/2 of closing force.
&lt;grip_kp&gt; describes the p of pid for force calculation per cycle
&lt;joint1&gt; contains the name of the finger joint 1
&lt;joint2&gt; contains the name of the finger joint 2
&lt;control_topic&gt; contains the gazebo command topic name, default ~/gripper/control
&lt;state_topic&gt; contains the gazebo s topic name, default ~/gripper/state
&lt;debug&gt; 0 turns off debugging print statements, 1 turns on
&lt;collisions&gt; 0 turns off collision detection for attaching gripper fingers to object, 1 turns on
</pre><h3>Example</h3>
<p>Note the finger links are deduced from the joint names. Further you must fully instantiate the joint names. The joint names are fanuc_prism1 and fanuc_prism2, but are part of the fanuc_lrmated200id robot and part of the lrmate model.. So the fully qualified name for joint1 would be lrmate::fanuc_lrmate200id::fanuc_prism1 shown below: </p><pre class="fragment">&lt;model name="lrmate"&gt;
        &lt;include&gt;
            &lt;static&gt;false&lt;/static&gt;
            &lt;uri&gt;model://fanuc_lrmate200id&lt;/uri&gt;
            &lt;pose&gt;-0.169 -1.140 0.934191 0 0 0&lt;/pose&gt;
        &lt;/include&gt;
        . . .
    &lt;plugin name="ParallelGripperPlugin" filename="libgzparallelgripperplugin.so"&gt;
    &lt;grip_force_close&gt;5&lt;/grip_force_close&gt;
    &lt;joint1&gt;fanuc_lrmate200id::fanuc_prism1&lt;/joint1&gt;
    &lt;joint2&gt;fanuc_lrmate200id::fanuc_prism2&lt;/joint2&gt;
    &lt;grip_kp&gt;10000&lt;/grip_kp&gt;
    &lt;control_topic&gt; ~/gripper/fanuc_lrmate200id/control &lt;/control_topic&gt;
    &lt;state_topic&gt; ~/gripper/fanuc_lrmate200id/state &lt;/state_topic&gt;
    &lt;debug&gt; 0 &lt;/debug&gt;
    &lt;collisions&gt; 1 &lt;/collisions&gt;
    &lt;/plugin&gt;
&lt;/model&gt;</pre> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
